<form>
  <div class="rest-options">
    <!-- Short Rest Option -->
    <div class="rest-option">
      <label class="radio-label">
        <input type="radio" name="restType" value="short" checked>
        <span class="rest-type">{{localize "RONIN.Rest.Short"}}</span>
      </label>
      <p class="rest-description">{{localize "RONIN.Rest.ShortDescription"}}</p>
    </div>
    
    <!-- Long Rest Option -->
    <div class="rest-option">
      <label class="radio-label">
        <input type="radio" name="restType" value="long">
        <span class="rest-type">{{localize "RONIN.Rest.Long"}}</span>
      </label>
      <p class="rest-description">{{localize "RONIN.Rest.LongDescription"}}</p>
    </div>
  </div>
  
  <!-- Additional Warning Description -->
  <div class="rest-warning">
    <p>{{localize "RONIN.Rest.WarningDescription"}}</p>
  </div>
  
  <!-- Meditation Option -->
  <div class="rest-option meditation-option">
    <label class="radio-label">
      <input type="radio" name="restType" value="meditation">
      <span class="rest-type">{{localize "RONIN.Rest.Meditation"}}</span>
    </label>
    <p class="rest-description">{{localize "RONIN.Rest.MeditationDescription"}}</p>
  </div>
  
  <!-- Haiku field (initially hidden, will be shown when meditation is selected) -->
  <div class="haiku-field" style="display: none;">
    <div class="haiku-checkbox">
      <label for="haiku-check">{{localize "RONIN.Rest.Haiku"}}</label>
      <input type="checkbox" id="haiku-check" name="haiku">
    </div>
    <p class="haiku-description">{{localize "RONIN.Rest.HaikuDescription"}}</p>
  </div>
  
  <!-- Rest Options -->
  <div class="rest-conditions">
    <div class="form-group">
      <label>{{localize "RONIN.Rest.InfectedOrPoisoned"}}</label>
      <input type="checkbox" name="infectedOrPoisoned">
    </div>

    {{#if deductConsumables}}
    <!-- Show Water and Food fields if deductConsumables is enabled -->
    <div class="form-group">
      <label>{{localize "RONIN.Rest.Water"}}</label>
      <input type="number" name="water" value="{{waterUses}}" min="0">
    </div>

    <div class="form-group">
      <label>{{localize "RONIN.Rest.Food"}}</label>
      <input type="number" name="food" value="{{foodUses}}" min="0">
    </div>
    {{else}}
    <!-- Show No Food and Water checkbox if deductConsumables is disabled -->
    <div class="form-group">
      <label>{{localize "RONIN.Rest.NoFoodAndWater"}}</label>
      <input type="checkbox" name="noFoodAndWater">
    </div>
    {{/if}}
  </div>
</form>

<script type="text/javascript">
  // Add event listener for radio buttons to show/hide the haiku field
  document.querySelectorAll('input[name="restType"]').forEach(radio => {
    radio.addEventListener('change', function() {
      const haikuField = document.querySelector('.haiku-field');
      if (this.value === 'meditation') {
        haikuField.style.display = 'block';
      } else {
        haikuField.style.display = 'none';
      }
    });
  });
</script>
